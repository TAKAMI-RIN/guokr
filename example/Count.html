<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计数器Count</title>
    <link rel="stylesheet" href="../skin/h.css" />
    <link rel="stylesheet" href="all.css" />
    <style>
    /*nav.css*/
    .top-side-btns {
        float: right;
        margin: 15px 40px 0 0;
    }
    /*当前页reset*/
    .top-side {
        float: left;
    }
   </style>
</head>
<body>
    <div class="container">
        <div class="guokr" id="guokr"></div>
        <div class="gheader-wp">
        <div class="gheader-wp-b">
        <div class="gheader">
            <a id="guokrLogo" class="gheader-logo" title="果壳 科技有意思">果壳网</a>
            <ul class="gheader-nav">
                <li><a href="/ui.html">CSS UI</a></li>
                <li><a href="/example/" class="current">JS组件</a></li>
            </ul>
        </div>
        </div>
        </div>
        <div class="top-wp">
            <div class="top fix">
                <div class="top-main">
                    <h1 class="top-main-n2">计数器Count</h1>
                </div>
            </div>
        </div>
        <div class="wrap">
            <dl class="main-example">
                <dt>描述：</dt>
                <dd>
 * 计数器模块<br/>
 *  &#60;span id="counter"&#62;NB指数213123&#60;/span&#62;<br/>
 *      var counter = new Count('#counter');<br/>
 *      counter.add(1);<br/>
 *      counter.add(-1);<br/>
 *      counter.set(99999);<br/>
 * @author mzhou<br/>
 * @desc   用于修改文字中的数字值，一般用于关注数的更新<br/>
 * @version 1.1<br/>
 * @log     1.0 创建<br/>
 *          1.1 添加参数min，max。用于指定范围
                </dd>
                <dt>引用js和css：</dt>
                <dd>
                    JS:<br/>
                    //@import "lib/Count.js";
                </dd>
                <dt>主题站关注，修改文字中的数字值</dt>
                <dd>
<pre class="demo">
    $('.followBt').live( 'click', function() {
        var $this = $(this),
        id = $this.attr('data-id'),
        operation = $this.attr('data-operation');
        var num = adds[ operation ];                                // 增加的关注数
        /**
         * 改变每个关注按钮的html及关注数
         * @param {object} 关注按钮jquery obj
         */
        function changeHtml( btn ) {
            var counter = new Count( '#followCounter', 188760, 188770 );    //  max = 188770, min = 188760, 如果缺省则不作限制
            counter.add( num );
        }
        changeHtml( $this );
    });
</pre>
                </dd>
                <dt>demo:</dt>
                <dd>
                <div class="top-side">
                    <ul class="top-board">
                        <li>
                          <span>关注</span>
                          <span id="followCounter">188762</span>
                        </li>
                        <li class="last">
                          <span>文章</span>
                          <span>XXX</span>
                        </li>
                    </ul>
                    <div class="top-side-btns" id="topSideBtns">
                        <a data-operation="follow" data-id="14" href="javascript:void 0;" class="bg_btn followBt"><b>+1</b></a>
                        <span class="bw_btn"><a data-operation="unfollow" data-id="14" href="javascript:void 0;" class="followBt">-1</a></span>
                    </div>
                </div>
            </dd>

            </dl>
            <div class="mt30"></div>
        </div>
    </div>
    <script>
    var GJS_URL = '/js/',
        GJS_PRELOAD = ['GUtils'];
    </script>
    <script src="../G/G.js"></script>
    <script>
        var g_page_name = 'minisiteIndex';
    </script>
    <script>
        var adds = {
            follow: 1,
            unfollow: -1
        };
   </script>
    <script>
        G.req( 'Count', function( Count ) {
            window.Count = Count;
            $.globalEval( $('.demo:eq(0)').text() );
        });
    </script>
</body>
</html>
